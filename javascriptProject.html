<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script defer src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz"
        crossorigin="anonymous"></script>

</head>

<body>
    <div class="container">
        <form onsubmit="saveToLocalStorage(event)">
            <label for="amountId" class="form-label">Expense Amount :</label>
            <input type="number" name="amount" id="amountId" class="form-control form-control-sm" required>
            <label class="form-label">Choose discription</label>
            <input type="text" name="discription" id="discriptionId" class="form-control form-control-sm">
            <label class="form-label">Category</label>
            <input list="Category" name="category" id="categoryId" class="form-control form-control-sm">
            <datalist id="Category">
                <option value="fuel"></option>
                <option value="rent"></option>
                <option value="food"></option>
                <option value="school"></option>
                <option value="shopping"></option>
                <option value="electricity"></option>
                <option value="misc expenses"></option>

            </datalist>
            <button> Submit</button>
        </form>
    </div>
    <ul id='listOfItems'>

    </ul>
    <script>
        function saveToLocalStorage(event) {
            event.preventDefault();
            const amount = event.target.amount.value;
            const discription = event.target.discription.value;
            const category = event.target.category.value;
            // localStorage.setItem('amout',amount);
            // localStorage.setItem('discription',discription);
            // localStorage.setItem('category',category);
            const Obj = {
                amount,
                discription,
                category
            }
            localStorage.setItem(Obj.discription, JSON.stringify(Obj));
            showOnScreen(Obj);
        }
        function showOnScreen(Obj) {
            const parentElement = document.getElementById('listOfItems');
            const childElement = document.createElement('li')
            childElement.textContent = Obj.amount + "  " + Obj.discription + " " + Obj.category;
            const deleteButton = document.createElement('input');
            deleteButton.type = "button";
            deleteButton.value = "Delete"
            deleteButton.onclick = () => {
                localStorage.removeItem(Obj.discription);
                parentElement.removeChild(childElement);
            }

            const editButton = document.createElement('input');
            editButton.type = "button";
            editButton.value = "Edit"
            editButton.onclick = () => {
                localStorage.removeItem(Obj.discription);
                parentElement.removeChild(childElement);
                document.getElementById('amountId').value = Obj.amount;
                document.getElementById('discriptionId').value = Obj.discription;
                document.getElementById('categoryId').value = Obj.category
            }

            childElement.appendChild(deleteButton);
            childElement.appendChild(editButton);
            parentElement.appendChild(childElement);

        }
    </script>
</body>

</html>
